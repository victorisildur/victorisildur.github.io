---
layout: post
title: "连接与加载"
date: 2015-09-25 20:16:00
categories: os
---

## c++ #include引发的疑问

学了os, 学了编译原理，然而还是不知道为什么出现undefined symbol，不知道头文件干什么的

## 连接

符号表！a.c --> a.o, b.c --> b.o. 其中a.o引用了b.o中的变量/函数，那么汇编层面是怎么找到的呢？

其实就是靠编译原理中的符号表，a.o的符号表中会显示一项未定义的符号，b.o的符号表中有同一项

连接时，symbol resolve会解决未定义符号问题，重定位会解决汇编层面的相对地址，绝对地址问题

## 加载

只有静态连接的可执行文件，加载比较简单，execv，进入内核态，初始化进程空间，页表映射好，pc映射到可执行文件入口

然后回到用户态，开始执行机器码啦

## 未解决问题

动态连接！got没有看懂，也是比较抽象

